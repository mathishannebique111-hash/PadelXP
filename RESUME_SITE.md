# R√©sum√© du fonctionnement de PadelXP

PadelXP (anciennement PadelLeague) est une plateforme SaaS B2B2C d√©velopp√©e avec Next.js 15, TypeScript, TailwindCSS et Supabase, qui transforme les complexes de padel en communaut√©s comp√©titives gr√¢ce √† un syst√®me de gamification complet. La plateforme fonctionne sur deux axes principaux : c√¥t√© club (B2B) et c√¥t√© joueur (B2C). Les clubs s'inscrivent via un dashboard administrateur, cr√©ent leur organisation en quelques minutes, personnalisent leur page publique avec logo et couleurs, et g√®rent leurs membres via un syst√®me d'invitation par QR code ou lien. Les joueurs rejoignent un club via authentification email/t√©l√©phone, enregistrent leurs matchs en moins de 30 secondes (4 joueurs, √©quipe gagnante), et voient leur progression en temps r√©el sur un leaderboard qui se recalcule automatiquement √† chaque match soumis. Le syst√®me de points fonctionne ainsi : +10 points pour une victoire, +3 points pour une d√©faite, avec une limite de 2 matchs par jour comptabilis√©s pour les points. Les joueurs progressent √† travers 7 rangs (Bronze 0-49, Argent 50-99, Or 100-199, Platine 200-299, Diamant 300-499, Master 700-999, Champion 1000+) et 4 niveaux bas√©s sur les victoires (D√©butant, Confirm√©, Expert, √âlite). Un syst√®me de badges r√©compense les accomplissements (premi√®re victoire, s√©ries de 3/5/7/10/15/20 victoires cons√©cutives, 50/100/200 matchs jou√©s, 100/500 points atteints, etc.), avec des notifications pop-up qui ne s'affichent qu'une seule fois par badge obtenu gr√¢ce √† un syst√®me de localStorage. La fonctionnalit√© "Ghost Players" (joueurs fant√¥mes) permet √† un joueur inscrit de jouer avec des amis non inscrits : le syst√®me cr√©e automatiquement un compte fant√¥me identifi√© par les 8 derniers chiffres du t√©l√©phone, ce ghost appara√Æt dans le leaderboard avec une ic√¥ne üëª, gagne/perd des points normalement, mais ses badges restent verrouill√©s jusqu'√† son inscription compl√®te via SMS d'invitation, puis fusion automatique des statistiques. Les joueurs peuvent acheter des "boosts" via Stripe (paiement int√©gr√©) qui doublent les points d'un match gagn√©, avec une limite de 10 boosts utilisables par mois. Un syst√®me de reviews permet aux joueurs de laisser des avis sur la plateforme (1-5 √©toiles + commentaire optionnel), avec un bonus de +10 points et le badge "Contributeur" uniquement pour le premier avis valide (rating > 3 √©toiles OU rating ‚â§ 3 √©toiles avec commentaire > 6 mots). Les clubs ont acc√®s √† un dashboard complet avec statistiques en temps r√©el (nombre de matchs, joueurs actifs, top joueurs), gestion des membres (import/export CSV), cr√©ation de challenges avec r√©compenses (points ou badges), feed social, export PDF/CSV du classement, et facturation via Stripe avec abonnements (Free jusqu'√† 50 joueurs, Pro 29‚Ç¨/mois, Enterprise 99‚Ç¨/mois). Le syst√®me de challenges permet aux clubs de cr√©er des d√©fis personnalis√©s (ex: "remporter 5 matchs cons√©cutifs") : pour valider un challenge de victoires cons√©cutives, le joueur doit enregistrer le nombre requis de victoires sans aucune d√©faite entre ces matchs (une d√©faite interrompt la s√©rie et le challenge doit √™tre recommenc√©), avec suivi de la progression en temps r√©el et r√©clamation de la r√©compense une fois le challenge compl√©t√©. La plateforme est enti√®rement responsive (mobile-first, PWA installable), utilise Supabase pour l'authentification, la base de donn√©es PostgreSQL, le stockage des logos, et les fonctions serverless, avec Resend pour les emails transactionnels. Le calcul du leaderboard se fait via un recalcul complet (full recompute) √† chaque soumission de match pour garantir la coh√©rence, avec filtrage des matchs selon la limite quotidienne et calcul des streaks de victoires cons√©cutives. Les notifications incluent les mont√©es de rang (tier up), les badges d√©bloqu√©s, et les d√©tr√¥nement du top 3, toutes g√©r√©es via localStorage pour n'appara√Ætre qu'une seule fois. La s√©curit√© est assur√©e via Row Level Security (RLS) de Supabase, avec des politiques d'acc√®s par organisation, et un client admin avec service_role pour les op√©rations critiques qui n√©cessitent de bypasser RLS.

